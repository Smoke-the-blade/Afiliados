<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Formulario de Afiliación</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="wrap">
<div class="card" id="formCard">
<h1>Formulario de Afiliación</h1>
<p class="lead">Rellena los datos para crear una nueva afiliación.</p>


<form id="affiliateForm" novalidate>
<div>
<label for="code">Código de afiliado *</label>
<input type="text" id="code" name="code" required />
<div class="error" id="codeError"></div>
</div>


<div>
<label for="tipo">Tipo de afiliado *</label>
<select id="tipo" name="tipo" required>
  <option value="">-- Selecciona --</option>
  <option value="permanente">Permanente</option>
  <option value="parcial">Parcial</option>
</select>
<div class="error" id="tipoError"></div>
</div>


<div>
<label for="nombre">Nombre *</label>
<input type="text" id="nombre" name="nombre" required />
<div class="error" id="nombreError"></div>
</div>


<div>
<label for="apellido">Apellido *</label>
<input type="text" id="apellido" name="apellido" required />
<div class="error" id="apellidoError"></div>
</div>


<div class="full actions">
<button type="submit">Enviar afiliación</button>
<button type="button" id="resetBtn">Limpiar</button>
<button type="button" id="viewListBtn">Ver lista completa</button>
<span>Estado: <span id="status">listo</span></span>
</div>


<div class="full">
<pre id="out">{}</pre>
</div>
</form>
</div>
</div>

<!-- Modal de éxito -->
<div id="successModal" class="modal-overlay hidden">
  <div class="modal">
    <h2>OK</h2>
    <p>Se agregaron exitosamente las credenciales.</p>
    <div class="modal-actions">
      <button id="closeModalBtn">Cerrar</button>
    </div>
  </div>
</div>

<!-- Vista de listado -->
<div id="listView" class="hidden">
  <div class="card">
    <h2>Lista completa de afiliados</h2>
    <div id="listContainer"></div>
    <div class="actions" style="margin-top:14px;">
      <button type="button" id="backToFormBtn">Volver al formulario</button>
    </div>
  </div>
</div>


<script src="main.js"></script>
</body>
</html>